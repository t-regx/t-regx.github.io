<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.75">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="T-Regx Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="T-Regx Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="T-Regx" href="/opensearch.xml">
<script src="https://buttons.github.io/buttons.js"></script><title data-react-helmet="true">Blog | T-Regx</title><meta data-react-helmet="true" property="og:title" content="Blog | T-Regx"><meta data-react-helmet="true" name="description" content="Blog"><meta data-react-helmet="true" property="og:description" content="Blog"><meta data-react-helmet="true" property="og:url" content="https://t-regx.com/blog/page/2"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><meta data-react-helmet="true" property="og:image" content="https://t-regx.com/img/t.regx.png"><meta data-react-helmet="true" name="twitter:image" content="https://t-regx.com/img/t.regx.png"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://t-regx.com/blog/page/2"><link data-react-helmet="true" rel="alternate" href="https://t-regx.com/blog/page/2" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://t-regx.com/blog/page/2" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.328cfba7.css">
<link rel="preload" href="/assets/js/runtime~main.3d94a705.js" as="script">
<link rel="preload" href="/assets/js/main.5b38e239.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/t.regx.borderless.png" alt="T-Regx" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/t.regx.borderless.png" alt="T-Regx" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">T-Regx</strong></a><a class="navbar__item navbar__link" href="/docs/overview">Tutorial</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/comparison">Compare</a><a class="navbar__item navbar__link" href="/help">Help</a><a class="navbar__item navbar__link" href="/replit">Try online</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/T-Regx/T-Regx/blob/develop/ChangeLog.md" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">ChangeLog</a><a href="https://github.com/T-Regx/T-Regx" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_cxYs react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_iYfV"></span></div><div class="react-toggle-track-x"><span class="toggle_iYfV"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/t.regx.borderless.png" alt="T-Regx" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/t.regx.borderless.png" alt="T-Regx" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">T-Regx</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/overview">Tutorial</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link" href="/comparison">Compare</a></li><li class="menu__list-item"><a class="menu__link" href="/help">Help</a></li><li class="menu__list-item"><a class="menu__link" href="/replit">Try online</a></li><li class="menu__list-item"><a href="https://github.com/T-Regx/T-Regx/blob/develop/ChangeLog.md" target="_blank" rel="noopener noreferrer" class="menu__link">ChangeLog</a></li><li class="menu__list-item"><a href="https://github.com/T-Regx/T-Regx" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper blog-wrapper blog-list-page"><div class="container margin-vert--lg"><div class="row"><div class="col col--3"><div class="sidebar_q+wC thin-scrollbar"><h3 class="sidebarItemTitle_9G5K">Recent posts</h3><ul class="sidebarItemList_6T4b"><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/12/31/performance">Performance optimisations</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/12/04/no-auto-capture">Back-porting modifier /n to all versions</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2021/11/10/gitter">T-Regx on Gitter</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2021/07/10/revamp-announcement">Announcement - Prepared patterns revamp</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2021/07/10/simplification-of-prepared-patterns">Announcement - Prepared patterns simplification</a></li></ul></div></div><main class="col col--7"><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_d4p0"><a href="/blog/2021/01/24/dark-mode">Dark mode</a></h2><div class="margin-vert--md"><time datetime="2021-01-24T00:00:00.000Z" class="blogPostDate_iEnO">January 24, 2021 路 One min read</time></div><div class="avatar margin-vert--md"><div class="avatar__intro"><h4 class="avatar__name"><a>Daniel Wilkowski</a></h4><small class="avatar__subtitle"></small></div></div></header><div class="markdown"><p>Heey!</p><p>We added dark mode to the documentation page, which we know is sexy right now.</p><p>We also updated a bunch of documentation pages, and there&#x27;s more on the way.</p><p>We&#x27;ll try to make the documentation as rich as possible, before we split the releases
of T-Regx into PHP7 and PHP8 versions.</p></div></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_d4p0"><a href="/blog/2020/12/08/release-0.9.13">Release 0.9.13</a></h2><div class="margin-vert--md"><time datetime="2020-12-08T00:00:00.000Z" class="blogPostDate_iEnO">December 8, 2020 路 One min read</time></div><div class="avatar margin-vert--md"><div class="avatar__intro"><h4 class="avatar__name"><a>Daniel Wilkowski</a></h4><small class="avatar__subtitle"></small></div></div></header><div class="markdown"><p>Bueno!</p><p>We&#x27;re making big steps towards PHP 8!</p><p>In this release, apart from some cool features, we&#x27;re deprecating <a href="/docs/match"><code>Match</code></a>, since
PHP8 brings new <a href="https://wiki.php.net/rfc/match_expression_v2" target="_blank" rel="noopener noreferrer"><code>match</code></a> keyword, and
on PHP8 <a href="/docs/match"><code>Match</code></a> is a parse error. Since now, you whould be using <a href="/docs/match"><code>Detail</code></a> instead.</p><p>We&#x27;re in a process of rewriting our documentation with the changes and suggestions to use <a href="/docs/match"><code>Detail</code></a> now.</p><p>From now on, the first couple of versions include deprecated <a href="/docs/match"><code>Match</code></a>, as well
as new <a href="/docs/match"><code>Detail</code></a>, so there&#x27;s some time to update. We&#x27;d wish to keep the deprecation
forever, to keep backwards compatibility but that&#x27;s impossible! :/ There&#x27;s an ugly ultimatum.</p><p>We can either:</p><ul><li>Keep <a href="/docs/match"><code>Match</code></a>, deprecated or not; only on PHP7</li><li>Run it on PHP8, but without <a href="/docs/match"><code>Match</code></a></li></ul><p>We can&#x27;t declare <a href="/docs/match"><code>Match</code></a> for backwards compatibility, because then we couldn&#x27;t run it on PHP8. So once
we start supporting PHP8, we stop supporting deprecated <a href="/docs/match"><code>Match</code></a>. We&#x27;re sorry there&#x27;s no other way
around. </p><p>In the future, we&#x27;ll release version <code>0.10.0</code>, and it will support PHP8 fully; but there
will no longer be <a href="/docs/match"><code>Match</code></a>, only <a href="/docs/match"><code>Detail</code></a>.</p><p>As always, everything is described in <a href="https://github.com/T-Regx/T-Regx/blob/develop/ChangeLog.md" target="_blank" rel="noopener noreferrer">ChangeLog.md</a> on GitHub.</p></div></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_d4p0"><a href="/blog/2020/11/04/release-0.9.12-oopsie">Release 0.9.12 Oopsie</a></h2><div class="margin-vert--md"><time datetime="2020-11-04T00:00:00.000Z" class="blogPostDate_iEnO">November 4, 2020 路 One min read</time></div><div class="avatar margin-vert--md"><div class="avatar__intro"><h4 class="avatar__name"><a>Daniel Wilkowski</a></h4><small class="avatar__subtitle"></small></div></div></header><div class="markdown"><p>Heey, there and sorry!</p><p>In previous release, 0.9.11 we accidentally made <code>replace()-&gt;by()-&gt;group()-&gt;orThrow()</code>
parameter non-optional, which resulted in <code>TypeError</code> error. We fixed it immediately,
so here&#x27;s v0.9.12 with a fix :) Nothing more. Update ASAP.</p><p>As always, everything is described in <a href="https://github.com/T-Regx/T-Regx/blob/develop/ChangeLog.md" target="_blank" rel="noopener noreferrer">ChangeLog.md</a> on github.</p></div></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_d4p0"><a href="/blog/2020/11/03/release-0.9.11">Release 0.9.11</a></h2><div class="margin-vert--md"><time datetime="2020-11-03T00:00:00.000Z" class="blogPostDate_iEnO">November 3, 2020 路 2 min read</time></div><div class="avatar margin-vert--md"><div class="avatar__intro"><h4 class="avatar__name"><a>Daniel Wilkowski</a></h4><small class="avatar__subtitle"></small></div></div></header><div class="markdown"><p>Heey, there!</p><p>Quick summary of changes in this release:</p><ul><li><p>Every exception extending <code>PregException</code> (so <code>MalformedPatternException</code>, <code>CatastrophicBacktrackingPregException</code>, etc.)
have received new method <code>getPregPattern()</code>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">try {</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">    pattern(&#x27;foo&#x27;)-&gt;...</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">} catch (\TRegx\SafeRegex\Exception\PregException $exception) {</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">    $exception-&gt;getPregPattern(); // &#x27;/foo/&#x27;</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Some methods still throw <a href="https://www.php.net/manual/en/class.invalidargumentexception.php" target="_blank" rel="noopener noreferrer"><code>\InvalidArgumentException</code></a>, and of course that exception is unchanged.</p></li><li><p>We brought back <code>Pattern::prepare()</code> (see <a href="https://github.com/T-Regx/T-Regx/blob/develop/ChangeLog.md" target="_blank" rel="noopener noreferrer">ChangeLog.md</a>)</p></li><li><p>We added <code>Match.tail()</code> method, which works like <code>offset()</code> but returns the position of the <em>end</em> of the occurrence
in the subject (not the start like <code>offset()</code>).</p></li><li><p><code>tail()</code> also works for <code>MatchGroup</code> and <code>ReplaceMatch</code>.</p></li><li><p>There&#x27;s also <code>byteTail()</code>, which returns the position in bytes, instead of characters (like <code>byteOffset()</code>).</p></li><li><p>Fixed inconsistencies</p><ul><li>Duplicated pattern exception message changes offset after PHP 7.3. Since now,
the messages will be identical on every PHP version.</li></ul></li><li><p>Added <code>null</code>-safety to some replace methods. Returning <code>null</code> from any of those methods:</p><ul><li><code>replace()-&gt;callback()</code></li><li><code>replace()-&gt;otherwise()</code></li><li><code>replace()-&gt;by()-&gt;group()-&gt;orElse()</code></li></ul><p>throws <code>InvalidReturnValueException</code>.</p></li><li><p>Renamed some <code>or</code> methods. Previously, what was used to handle the missing first value (result of <code>findFirst()</code>),
was also used to specify the replacement of an optional, unmatched group. Sorry to say that, we made
a bad decision unifying this interface, since it turns out they&#x27;re not even remotely connected. What fooled
us, was we referred to each as &quot;optional&quot; (even tough one was &quot;optional first match&quot;, and the second was
&quot;replacement of an optional group).</p><p>In this release, we separate the interfaces, and assign new, better names for the specification of unmatched,
optional groups: </p><ul><li>Renamed <code>pattern()-&gt;replace()-&gt;by()-&gt;group()</code> methods:<ul><li>Renamed <code>orThrow(string)</code> to <code>orElseThrow(string)</code>.</li><li>Renamed <code>orIgnore()</code> to <code>orElseIgnore()</code>.</li><li>Renamed <code>orEmpty()</code> to <code>orElseEmpty()</code>.</li><li>Renamed <code>orReturn(string)</code> to <code>orElseWith(string)</code>.</li><li>Renamed <code>orElse(callable)</code> to <code>orElseCalling(callable)</code>.</li></ul></li><li>Renamed and added <code>pattern()-&gt;replace()-&gt;by()-&gt;group()-&gt;map()</code> methods:<ul><li>Renamed <code>orThrow(string)</code> to <code>orElseThrow(string)</code>.</li><li>Added <code>orElseIgnore()</code>.</li><li>Added <code>orElseEmpty()</code>.</li><li>Renamed <code>orReturn(string)</code> to <code>orElseWith(string)</code>.</li><li>Renamed <code>orElse(callable)</code> to <code>orElseCalling(callable)</code>.</li></ul></li></ul></li></ul><p>As always, everything is described in <a href="https://github.com/T-Regx/T-Regx/blob/develop/ChangeLog.md" target="_blank" rel="noopener noreferrer">ChangeLog.md</a> on github.</p></div></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_d4p0"><a href="/blog/2020/09/22/release-0.9.10">Release 0.9.10</a></h2><div class="margin-vert--md"><time datetime="2020-09-22T00:00:00.000Z" class="blogPostDate_iEnO">September 22, 2020 路 One min read</time></div><div class="avatar margin-vert--md"><div class="avatar__intro"><h4 class="avatar__name"><a>Daniel Wilkowski</a></h4><small class="avatar__subtitle"></small></div></div></header><div class="markdown"><p>We&#x27;ve released T-Regx 0.9.10, where we delivered what we described in previous blog post.</p><p>There are some renames to make some methods more clear.  We also added <code>pattern()-&gt;match()-&gt;tuple()</code>
and <code>pattern()-&gt;match()-&gt;triple()</code> helper methods.</p><p>As always, everything is described in <a href="https://github.com/T-Regx/T-Regx/blob/develop/ChangeLog.md" target="_blank" rel="noopener noreferrer">ChangeLog.md</a> on github.</p><p>PS: <code>Pattern::prepare()</code> is removed in this release, but is restored back in 0.9.11.</p></div></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_d4p0"><a href="/blog/2020/09/11/pattern-prepared">Removal of Pattern::prepare()</a></h2><div class="margin-vert--md"><time datetime="2020-09-11T00:00:00.000Z" class="blogPostDate_iEnO">September 11, 2020 路 2 min read</time></div><div class="avatar margin-vert--md"><div class="avatar__intro"><h4 class="avatar__name"><a>Daniel Wilkowski</a></h4><small class="avatar__subtitle"></small></div></div></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="update"></a>Update<a class="hash-link" href="#update" title="Direct link to heading">#</a></h2><p>In T-Regx 0.9.10, we decided to remove <code>Pattern::prepare()</code> from T-Regx. </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="rationale"></a>Rationale<a class="hash-link" href="#rationale" title="Direct link to heading">#</a></h3><p>Originally, the idea behind this function was quite simple.
We wanted to enable quick and readable parameter binding:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">Pattern::prepare([&#x27;^http://&#x27;, [$domain], &#x27;/index\.php&#x27;])-&gt;test($link);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Fairly easy, at the first glance.</p><p>Its messyness becomes visible, when regular expressions become few and short, and texts
are multiple and long, sometimes with alteration:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">Pattern::prepare([[[$http, $https]], &#x27;://&#x27;, [$domain]])-&gt;test($link);</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">// vs.</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">Pattern::prepare([[[$http, $https], &#x27;://&#x27;, $domain]])-&gt;test($link);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>You can see, the outer layer array combined with the <code>[$domain]</code> array and array for schema
becomes quite hard to read. Additionally, because of alteration, it becomes even more unreadable!
It was very easy to misread the parameter array with alteration array, or even regular regex with text.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="the-solution"></a>The solution<a class="hash-link" href="#the-solution" title="Direct link to heading">#</a></h3><p>So at first, we decided to remove it from the library, but then, because of one of the users
comment in GitHub issues, we decided that perhaps it would be better not to remove the method,
but fix it.</p><p>In this case, fixing it would be disallowing such confusing constructs as alteration in prepared patterns.
So we decided to bring back <code>Pattern::prepare()</code>, but remove alteration so the messy queries won&#x27;t appear
in the source code.</p><p>Alteration is still available for <code>Pattern:inject()</code> and <code>Pattern::bind()</code>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">Pattern::inject(&#x27;@://@&#x27;, [[$http, $https], $domain])-&gt;test($link);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">Pattern::bind(&#x27;@scheme://@domain&#x27;, [&#x27;scheme&#x27; =&gt; [$http, $https], &#x27;domain&#x27; =&gt; $domain])-&gt;test($link);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></div></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_d4p0"><a href="/blog/2020/09/10/quiz">PHP Quiz for you!</a></h2><div class="margin-vert--md"><time datetime="2020-09-10T00:00:00.000Z" class="blogPostDate_iEnO">September 10, 2020 路 One min read</time></div><div class="avatar margin-vert--md"><div class="avatar__intro"><h4 class="avatar__name"><a>Daniel Wilkowski</a></h4><small class="avatar__subtitle"></small></div></div></header><div class="markdown"><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="quiz"></a>Quiz<a class="hash-link" href="#quiz" title="Direct link to heading">#</a></h3><p>I&#x27;ve prepared a small quiz for you, which you can try right at the main page: <a href="https://t-regx.com/" target="_blank" rel="noopener noreferrer">t-regx.com</a> :)
The quiz is about PHP Vanilla PCRE regular expressions. It&#x27;s main reason, really is to illustrate
the messyness and inconsistencies in the API.</p><p>Give it a try :)</p></div></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_d4p0"><a href="/blog/2020/04/13/release-0.9.8">Release 0.9.8 - foreach baby, foreach!</a></h2><div class="margin-vert--md"><time datetime="2020-04-13T00:00:00.000Z" class="blogPostDate_iEnO">April 13, 2020 路 One min read</time></div><div class="avatar margin-vert--md"><div class="avatar__intro"><h4 class="avatar__name"><a>Daniel Wilkowski</a></h4><small class="avatar__subtitle"></small></div></div></header><div class="markdown"><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="iterables"></a>Iterables<a class="hash-link" href="#iterables" title="Direct link to heading">#</a></h3><p>Up to this point, you could either use T-Regx methods that return <code>array</code>, in order to iterate them, or use
one of the collection methods <a href="/docs/match-map"><code>map()</code></a>, <a href="/docs/match-for-each"><code>forEach()</code></a>, <code>filter()</code>, etc.</p><p>Right now any chainable method in T-Regx is also iterate</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">foreach (pattern(&#x27;\d+&#x27;)-&gt;match(&#x27;127.0.0.1&#x27;) as $match) {</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">foreach (pattern(&#x27;\d+&#x27;)-&gt;match(&#x27;127.0.0.1&#x27;)-&gt;asInt() as $digit) {</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">foreach (pattern(&#x27;\d+&#x27;)-&gt;match(&#x27;127.0.0.1&#x27;)-&gt;all() as $text) {</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="shorthand-method"></a>Shorthand method<a class="hash-link" href="#shorthand-method" title="Direct link to heading">#</a></h3><p>In addition to previous release, when we added <code>asArray()</code> method, we also added a shorthand <code>get()</code> method for
capturing groups.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">pattern(&#x27;(origin/)?master&#x27;)-&gt;match(&#x27;master&#x27;)-&gt;first(function (Match $match) {</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">    $match-&gt;get(1); // same as $match-&gt;group(1)-&gt;text();</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">});</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></div></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_d4p0"><a href="/blog/2020/04/08/release-0.9.7">Release 0.9.7 - Match as vanilla array!</a></h2><div class="margin-vert--md"><time datetime="2020-04-08T00:00:00.000Z" class="blogPostDate_iEnO">April 8, 2020 路 2 min read</time></div><div class="avatar margin-vert--md"><div class="avatar__intro"><h4 class="avatar__name"><a>Daniel Wilkowski</a></h4><small class="avatar__subtitle"></small></div></div></header><div class="markdown"><p>There was a lot of changes in the code, so I reckon we could release twice in the same week, because why not :)</p><p>So what are the changes?</p><p>Bare with me.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="the-concept"></a>The concept<a class="hash-link" href="#the-concept" title="Direct link to heading">#</a></h3><p>Capturing groups in T-Regx have a really rich API (probably the richest out there), with a lot of variables.
Most importantly T-Regx handles:</p><ul><li><strong>Invalid groups</strong> (e.g. negative index <code>-1</code> or malformed group <code>!@#$</code>), which always throw exception</li><li><strong>Missing groups</strong> (e.g. group <code>4</code> used in pattern, that only has 2 groups; same for named) which conditionally throws exceptions</li><li><strong>Optional groups</strong> (e.g. <code>(origin/)?master</code>), which is really tricky to distinguish with PCRE</li><li><strong>Matched groups</strong> (which can be tricky, if the matched group is an empty string <code>&quot;&quot;</code>)</li></ul><p>Because of that, syntax of groups is not the shortest:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">pattern(&#x27;(origin/)?master&#x27;)-&gt;match(&#x27;master&#x27;)-&gt;first(function (Match $match) {</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">    $match-&gt;group(1)-&gt;text(); // for example</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">});</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>But we know that T-Regx users mostly care about the last group, <strong>Matched groups</strong>, so they would like to use them
with as simple syntax as possible. That makes sense.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="the-idea"></a>The idea<a class="hash-link" href="#the-idea" title="Direct link to heading">#</a></h3><p>At first, there was an idea of <a href="/docs/match"><code>Match</code></a> details implementing <a href="https://www.php.net/manual/en/class.arrayaccess.php" target="_blank" rel="noopener noreferrer"><code>\ArrayAccess</code></a>, so this syntax would be possible:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">pattern(&#x27;(origin/)?master&#x27;)-&gt;match(&#x27;master&#x27;)-&gt;first(function (Match $match) {</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">    $match[1]; // same as above</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">});</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Well, that syntax does look good, at first, but it comes at a price. A high price.</p><p>Why we ditched the <code>\ArrayAccess</code> idea:</p><ul><li>Unnecessary <code>set</code> and <code>unset</code> methods</li><li>Methods that work for arrays (<code>array_key_exist()</code>) won&#x27;t work with <a href="https://www.php.net/manual/en/class.arrayaccess.php" target="_blank" rel="noopener noreferrer"><code>\ArrayAccess</code></a></li><li><code>empty($match[1])</code> returns <code>true</code>, even if the group <code>1</code> was matched (<code>&quot;&quot;</code> and <code>&quot;0&quot;</code> <strong>yes</strong> is falsy)</li><li><code>isset($match[-2])</code> couldn&#x27;t throw an exception for a malformed group</li><li>There&#x27;s a bug in PHP, that causes <code>$match[&#x27;100&#x27;]</code> to be treated as <code>$match[100]</code> (cast to <code>int</code> any numeric value).</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="the-solution"></a>The solution<a class="hash-link" href="#the-solution" title="Direct link to heading">#</a></h3><p>So, instead, we got an idea: What if <code>$match</code> was a real PHP <code>array</code>. Every method or notation that works
for arrays, will also work.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">pattern(&#x27;(origin/)?master&#x27;)-&gt;match(&#x27;master&#x27;)-&gt;asArray()-&gt;first(function (array $match) {</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">    $match[1]; // same as above</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">});</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>The structure of the array is perfectly identical to what <code>preg_match()</code> would return :)</p></div></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_d4p0"><a href="/blog/2020/04/02/release-0.9.6">Release 0.9.6 - First/all changes!</a></h2><div class="margin-vert--md"><time datetime="2020-04-02T00:00:00.000Z" class="blogPostDate_iEnO">April 2, 2020 路 One min read</time></div><div class="avatar margin-vert--md"><div class="avatar__intro"><h4 class="avatar__name"><a>Daniel Wilkowski</a></h4><small class="avatar__subtitle"></small></div></div></header><div class="markdown"><p>Another release ahead of us. This one is about T-Regx chainable interface. We made sure, that <code>first()</code>
chained with anything always uses <code>preg_match()</code>, instead of <code>preg_match_all()</code>.</p><p>For example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">pattern($pattern)-&gt;match($subject)</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">    -&gt;fluent()</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">    -&gt;flatMap(function (Match $match) {</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">        return [$match-&gt;text() =&gt; $match-&gt;offset()];</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">    })</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">    -&gt;keys()</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">    -&gt;groupByCallback(function (string $text) {</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">        return $text[0];</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">    })</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">    -&gt;first();</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>this code will now use <code>preg_match()</code>. Really, this whole release was about ensuring that.</p><p>The only exception is <code>filter()</code>, for which it would be really wasteful to call <code>preg_match()</code> first, and then,
if the filter has failed, call <code>preg_match_all()</code>.</p><p>In the future releases we&#x27;ll make sure that the exception for unmatched <code>first()</code> are also
uniform (probably <code>SubjectNotMatchedException</code>, instead of <code>NoSuchFluentElementException</code>).</p><p>Boy, are design patterns so cool for this kind of job ;D</p></div></article><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog"><div class="pagination-nav__label">芦 Newer Entries</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/page/3"><div class="pagination-nav__label">Older Entries 禄</div></a></div></nav></main></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/installation">Installation</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/introduction-preg">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/match">Documentation</a></li><li class="footer__item"><a href="https://github.com/T-Regx/T-Regx/blob/develop/ChangeLog.md" target="_blank" rel="noopener noreferrer" class="footer__link-item">API Reference</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/T-Regx/T-Regx" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a class="github-button" href="https://github.com/T-Regx/T-Regx" title="See this project on GitHub" data-icon="octicon-star" data-show-count="true" data-count-href="/T-Regx/T-Regx/stargazers" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">T-Regx</a></li><li class="footer__item"><a href="https://github.com/sponsors/Danon" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sponsor</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/t.regx.png" alt="T-Regx" class="themedImage_TMUO themedImage--light_4Vu1 footer__logo"><img src="/img/t.regx.png" alt="T-Regx" class="themedImage_TMUO themedImage--dark_uzRr footer__logo"></div><div class="footer__copyright">Copyright 漏 2017-2023 Daniel Wilkowski</div></div></div></footer></div>
<script src="/assets/js/runtime~main.3d94a705.js"></script>
<script src="/assets/js/main.5b38e239.js"></script>
</body>
</html>